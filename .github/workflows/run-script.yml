name: Daily WhatsApp Reminder

env:
  GOOGLE_CREDENTIALS: ${{ secrets.GOOGLE_CREDENTIALS }}
  CALENDAR_ID: ${{ secrets.CALENDAR_ID }}

on:
  schedule:
    # - cron: "0 15 * * 0-5" # RuleazÄƒ Ã®n fiecare zi la ora 18:00 UTC (mai puÈ›in sÃ¢mbÄƒta)
    - cron: "0 12 * * 0-5" # RuleazÄƒ azi de test la ora 13:00 ora Romaniei
  workflow_dispatch: # Permite rularea manualÄƒ a scriptului

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Clone repository
        uses: actions/checkout@v4

      - name: ğŸ“¦ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 18 # SeteazÄƒ Node.js 18+

      - name: ğŸ”„ Update dependencies
        run: npm update @whiskeysockets/baileys

      - name: ğŸ“œ Install dependencies
        run: npm install

      - name: ğŸš€ Run script
        run: node test.js
