name: Daily WhatsApp Reminder

env:
  GOOGLE_CREDENTIALS: ${{ secrets.GOOGLE_CREDENTIALS }}
  CALENDAR_ID: ${{ secrets.CALENDAR_ID }}

on:
  schedule:
    - cron: "0 16 * * 0-5" # RuleazÄƒ azi de test la ora 14:00 ora Romaniei
  workflow_dispatch: # Permite rularea manualÄƒ a scriptului

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ“¥ Clone repository
        uses: actions/checkout@v4

      - name: ðŸ“¦ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 18 # SeteazÄƒ Node.js 18+

      - name: ðŸ”„ Update dependencies
        run: npm update @whiskeysockets/baileys

      - name: ðŸ“œ Install dependencies
        run: npm install

      - name: ðŸš€ Run script
        run: node test.js
